/*! 
 Build based on admin-vue 
 Time : 1721439181000 */
import{_ as e,r as l,o as a,c as o,b as s,d as u,w as t,h as n,Z as d,$ as p,x as r,cW as i,cV as m,e as c,g as b,dd as B,j as V,ar as y,l as f,E as k,S as C}from"./087AC4D233B64EB0index.3a42c3d0.js";import{a as h,E as g}from"./087AC4D233B64EB0form-item.3185fbfe.js";/* empty css                               *//* empty css                              *//* empty css                            */import{E as v,a as E}from"./087AC4D233B64EB0select.e68fc9c3.js";import"./087AC4D233B64EB0scrollbar.f28f83ad.js";/* empty css                               *//* empty css                                 */import{b as j}from"./087AC4D233B64EB0stringFun.647a78e9.js";import{k as A}from"./087AC4D233B64EB0autoCode.6d928f43.js";import{t as D}from"./087AC4D233B64EB0doc.46160848.js";import{E as _}from"./087AC4D233B64EB0index.680eed92.js";import"./087AC4D233B64EB0castArray.cde6f052.js";import"./087AC4D233B64EB0_baseClone.00b8bfb0.js";import"./087AC4D233B64EB0_Uint8Array.55422573.js";import"./087AC4D233B64EB0_initCloneObject.f657614f.js";import"./087AC4D233B64EB0index.3ccbca82.js";import"./087AC4D233B64EB0index.83c0fa4e.js";import"./087AC4D233B64EB0token.9ae252be.js";import"./087AC4D233B64EB0strings.8c6e2eb6.js";import"./087AC4D233B64EB0isEqual.e78056db.js";import"./087AC4D233B64EB0debounce.c5d6bbb5.js";import"./087AC4D233B64EB0_baseIteratee.5313185f.js";import"./087AC4D233B64EB0index.f44b2100.js";const U={class:"gva-table-box"},q=e({__name:"autoPlug",setup(e){const q=l({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),w=()=>{q.plugName=j(q.plugName)},R=async()=>{if(!q.plugName||!q.routerGroup)return void V.error("插件名称和插件路由组为必填项");if(q.hasGlobal){if(q.global.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("全局属性的key和type为必填项")}if(q.hasRequest){if(q.request.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("请求属性的key和type为必填项")}if(q.hasResponse){if(q.response.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("响应属性的key和type为必填项")}0===(await A(q)).code&&y("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},x=e=>{e.push({key:"",value:""})},G=(e,l)=>{1!==e.length?e.splice(l,1):V.warning("至少有一个全局属性")};return(e,l)=>{const V=f,y=h,j=_,A=v,N=E,I=k,F=C,O=g;return a(),o("div",null,[s("div",U,[u(O,{"label-width":"140px",class:"w-[680px]"},{default:t((()=>[u(y,{label:"插件名"},{default:t((()=>[u(V,{modelValue:q.plugName,"onUpdate:modelValue":l[0]||(l[0]=e=>q.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:w},null,8,["modelValue"])])),_:1}),u(y,{label:"路由组"},{default:t((()=>[u(V,{modelValue:q.routerGroup,"onUpdate:modelValue":l[1]||(l[1]=e=>q.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),u(y,{label:"使用全局属性"},{default:t((()=>[u(j,{modelValue:q.hasGlobal,"onUpdate:modelValue":l[2]||(l[2]=e=>q.hasGlobal=e)},null,8,["modelValue"])])),_:1}),q.hasGlobal?(a(),n(y,{key:0,label:"全局属性"},{default:t((()=>[(a(!0),o(d,null,p(q.global,((e,n)=>(a(),o("div",{key:n,class:"plug-row"},[s("span",null,[u(V,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(N,{class:"w-32",modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:t((()=>[u(A,{label:"string",value:"string"}),u(A,{label:"int",value:"int"}),u(A,{label:"float32",value:"float32"}),u(A,{label:"float64",value:"float64"}),u(A,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(V,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(I,{icon:r(i),circle:"",onClick:l[3]||(l[3]=e=>x(q.global))},null,8,["icon"])]),s("span",null,[u(I,{icon:r(m),circle:"",onClick:e=>G(q.global,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):c("",!0),u(y,{label:"使用Request"},{default:t((()=>[u(j,{modelValue:q.hasRequest,"onUpdate:modelValue":l[4]||(l[4]=e=>q.hasRequest=e)},null,8,["modelValue"])])),_:1}),q.hasRequest?(a(),n(y,{key:1,label:"Request"},{default:t((()=>[(a(!0),o(d,null,p(q.request,((e,n)=>(a(),o("div",{key:n,class:"plug-row"},[s("span",null,[u(V,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(N,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,class:"w-32",placeholder:"type 必填"},{default:t((()=>[u(A,{label:"string",value:"string"}),u(A,{label:"int",value:"int"}),u(A,{label:"float32",value:"float32"}),u(A,{label:"float64",value:"float64"}),u(A,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(V,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(I,{icon:r(i),circle:"",onClick:l[5]||(l[5]=e=>x(q.request))},null,8,["icon"])]),s("span",null,[u(I,{icon:r(m),circle:"",onClick:e=>G(q.request,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):c("",!0),u(y,{label:"使用Response"},{default:t((()=>[u(j,{modelValue:q.hasResponse,"onUpdate:modelValue":l[6]||(l[6]=e=>q.hasResponse=e)},null,8,["modelValue"])])),_:1}),q.hasResponse?(a(),n(y,{key:2,label:"Response"},{default:t((()=>[(a(!0),o(d,null,p(q.response,((e,n)=>(a(),o("div",{key:n,class:"plug-row"},[s("span",null,[u(V,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(N,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,class:"w-32",placeholder:"type 必填"},{default:t((()=>[u(A,{label:"string",value:"string"}),u(A,{label:"int",value:"int"}),u(A,{label:"float32",value:"float32"}),u(A,{label:"float64",value:"float64"}),u(A,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(V,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[u(I,{icon:r(i),circle:"",onClick:l[7]||(l[7]=e=>x(q.response))},null,8,["icon"])]),s("span",null,[u(I,{icon:r(m),circle:"",onClick:e=>G(q.response,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):c("",!0),u(y,null,{default:t((()=>[u(I,{type:"primary",onClick:R},{default:t((()=>[b("创建")])),_:1}),u(F,{class:"cursor-pointer ml-3",onClick:l[8]||(l[8]=e=>r(D)("https://www.bilibili.com/video/BV1kv4y1g7nT?p=13&vd_source=f2640257c21e3b547a790461ed94875e"))},{default:t((()=>[u(r(B))])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-e64c8960"]]);export{q as default};
