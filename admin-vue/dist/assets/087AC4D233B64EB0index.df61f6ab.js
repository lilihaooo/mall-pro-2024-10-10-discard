/*! 
 Build based on admin-vue 
 Time : 1721439181000 */
import{y as e,b2 as a,z as s,aB as r,a6 as t,N as c,O as i,a as l,B as n,J as p,aK as u,C as o,o as v,c as d,Y as m,x as y,h as f,w as g,ag as S,S as h,X as I,n as k,a0 as B,a4 as _,_ as w,m as z,Z as E,e as C}from"./087AC4D233B64EB0index.3a42c3d0.js";import{E as b}from"./087AC4D233B64EB0image-viewer.20dbe01e.js";const A=e({size:{type:[Number,String],values:a,default:"",validator:e=>s(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:r},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:t(String),default:"cover"}}),j={error:e=>e instanceof Event},x=["src","alt","srcset"],T=c({name:"ElAvatar"});const q=_(B(c({...T,props:A,emits:j,setup(e,{emit:a}){const r=e,t=i("avatar"),c=l(!1),B=n((()=>{const{size:e,icon:a,shape:s}=r,c=[t.b()];return p(e)&&c.push(t.m(e)),a&&c.push(t.m("icon")),s&&c.push(t.m(s)),c})),_=n((()=>{const{size:e}=r;return s(e)?t.cssVarBlock({size:u(e)||""}):void 0})),w=n((()=>({objectFit:r.fit})));function z(e){c.value=!0,a("error",e)}return o((()=>r.src),(()=>c.value=!1)),(e,a)=>(v(),d("span",{class:k(y(B)),style:m(y(_))},[!e.src&&!e.srcSet||c.value?e.icon?(v(),f(y(h),{key:1},{default:g((()=>[(v(),f(S(e.icon)))])),_:1})):I(e.$slots,"default",{key:2}):(v(),d("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:m(y(w)),onError:z},null,44,x))],6))}}),[["__file","avatar.vue"]])),D={class:"headerAvatar"},N=["src"],O=["src"],F=w(Object.assign({name:"CustomPic"},{__name:"index",props:{picType:{type:String,required:!1,default:"avatar"},picSrc:{type:String,required:!1,default:""},preview:{type:Boolean,default:!1}},setup(e){const a=e,s=l("/api/"),r=l("/assets/087AC4D233B64EB0noBody.745c3d16.png"),t=z(),c=n((()=>""===a.picSrc?""!==t.userInfo.headerImg&&"http"===t.userInfo.headerImg.slice(0,4)?t.userInfo.headerImg:s.value+t.userInfo.headerImg:""!==a.picSrc&&"http"===a.picSrc.slice(0,4)?a.picSrc:s.value+a.picSrc)),i=n((()=>a.picSrc&&"http"!==a.picSrc.slice(0,4)?s.value+a.picSrc:a.picSrc)),p=n((()=>a.preview?[i.value]:[]));return(a,s)=>{const l=q,n=b;return v(),d("span",D,["avatar"===e.picType?(v(),d(E,{key:0},[y(t).userInfo.headerImg?(v(),f(l,{key:0,size:30,src:c.value},null,8,["src"])):(v(),f(l,{key:1,size:30,src:r.value},null,8,["src"]))],64)):C("",!0),"img"===e.picType?(v(),d(E,{key:1},[y(t).userInfo.headerImg?(v(),d("img",{key:0,src:c.value,class:"avatar"},null,8,N)):(v(),d("img",{key:1,src:r.value,class:"avatar"},null,8,O))],64)):C("",!0),"file"===e.picType?(v(),f(n,{key:2,src:i.value,class:"file","preview-src-list":p.value,"preview-teleported":!0},null,8,["src","preview-src-list"])):C("",!0)])}}}),[["__scopeId","data-v-1c606aa1"]]);export{F as C};
